---
title: "Send Payments"
description: "Send payments using your AI Agent"
icon: "paper-plane"
---

Payman simplifies money transfers for AI agents with minimal code, supporting payments to US ACH Banks, other Payman agents, and soon - crypto wallets.

## Quick Start

<Tabs>
<Tab title="To Existing Payee">
```python
payment = payman.payments.send_payment(
    amount_decimal=50.00,
    payment_destination_id='dest_123',
    memo='Invoice #1234',
    metadata={'order_id': 'ORD-5678'}
)

print('Payment successful:', payment.reference)

````
</Tab>
<Tab title="To New Payee">
```python
payment = payman.payments.send_payment(
    amount_decimal=100.00,
    payment_destination={
        'type': 'US_ACH',
        'account_holder_name': 'Jane Smith',
        'account_number': '123456789',
        'account_type': 'checking',
        'account_holder_type': 'individual',
        'routing_number': '987654321',
        'name': 'Jane Smith Checking',
        'contact_details': {
            'email': 'jane@example.com',
            'phone_number': '+1234567890'
        }
    }
)

print('Payment successful:', payment.reference)
````

</Tab>
</Tabs>

## Parameters

### Required Parameters

| Parameter                | Type  | Description                                  |
| ------------------------ | ----- | -------------------------------------------- |
| `amount_decimal`         | float | Amount to send (e.g., `50.00` for $50)       |
| `payment_destination_id` | str   | ID of an existing payee                      |
| `payment_destination`    | dict  | Details for a new payee (if not yet created) |

**Note:** Either `payment_destination_id` or `payment_destination` must be provided, but not both.

### Optional Parameters

| Parameter   | Type | Description                                        |
| ----------- | ---- | -------------------------------------------------- |
| `wallet_id` | str  | Specify a wallet if multiple exist                 |
| `memo`      | str  | A note for the transaction (e.g., `Invoice #1234`) |
| `metadata`  | dict | Custom data to track the payment                   |

<Note>
	**Before making a payment:** 
    1. Verify sufficient funds are available in your wallet. 
    2. Format amounts in decimal notation (e.g., `10.50` for $10.50). 
    3. For detailed information on payment destinations, refer to [Create Payees](/sdks/python/create-payees).
</Note>

## Approval Requests

For security, all AI Agent-initiated transactions require human approval before execution. When your agent sends a payment:

1. The transaction appears in your Payman Dashboard under "Requests"
2. You can review transaction details, then approve or reject the payment
3. Only approved transactions will be processed

<Frame caption='Transaction Approval Requests'>
	<img src='/images/approval-requests.png' />
</Frame>

## Response Object

After sending a payment, Payman returns a response object:

```python
{
    'reference': 'txn_abc123',      # Payman's unique transaction ID
    'external_reference': '0x123abc...',  # (if applicable, e.g., blockchain tx)
    'status': 'COMPLETED',          # Current payment status
    'created_at': '2023-08-15T14:30:22Z'  # Timestamp of creation
}
```

## Error Handling

Handle transaction errors with proper exception catching:

```python
from paymanai.errors import PaymanError

try:
    payment = payman.payments.send_payment(
        amount_decimal=50.0,
        payment_destination_id="dest_123"
    )

    print("Payment successful:", payment.reference)
except PaymanError as error:
    if error.code == "insufficient_funds":
        print("Not enough funds in wallet")
    elif error.code == "invalid_destination":
        print("Payment destination is invalid")
    else:
        print("Something went wrong:", error.message)
```

## Common Error Codes

| Error Code                | Description                                                 |
| ------------------------- | ----------------------------------------------------------- |
| `insufficient_funds`      | Wallet does not have enough balance                         |
| `invalid_destination`     | Payment destination does not exist or is invalid            |
| `invalid_amount`          | Amount is invalid (negative, zero, or improperly formatted) |
| `destination_unavailable` | Destination is temporarily unavailable                      |
| `wallet_locked`           | Wallet is locked or suspended                               |

## Advanced Usage

### Send Payment with Custom Metadata

Attach custom metadata to track payments in your system:

```python
payment = payman.payments.send_payment(
    amount_decimal=75.50,
    payment_destination_id="dest_123",
    memo="Subscription renewal",
    metadata={
        "customer_id": "cust_456",
        "subscription_id": "sub_789",
        "plan": "premium",
        "renewal_date": "2023-09-15"
    }
)
```

### Using Type Hints

For better code safety and IDE support:

```python
from paymanai.types import PaymentDestination, PaymentResponse
from typing import Dict, Any, Optional

def process_payment(
    amount: float,
    destination_id: str,
    memo: Optional[str] = None,
    metadata: Optional[Dict[str, Any]] = None
) -> PaymentResponse:
    """Process a payment with the given parameters."""
    return payman.payments.send_payment(
        amount_decimal=amount,
        payment_destination_id=destination_id,
        memo=memo,
        metadata=metadata
    )
```
